<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI無料診断 | Dental AI Consulting</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;600;700&family=Outfit:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="app-container">
        <!-- Landing Page -->
        <section id="landing" class="landing-page">
            <div class="landing-content">
                <!-- Main Title Section -->
                <div class="main-title-section">
                    <p class="tagline">歯科医院地域一番実践会</p>
                    <h1 class="main-title">
                        <span class="title-ai">AI</span>
                        <span class="title-text">無料診断</span>
                    </h1>
                    <p class="main-subtitle">3,247件の成功事例データから、あなたの医院に最適な改善策を提案</p>
                </div>

                <div class="hero-section">
                    <!-- Dynamic Growth Chart -->
                    <div class="growth-chart-container">
                        <div class="growth-chart-header">
                            <span class="growth-chart-title">改善実績の推移</span>
                            <span class="growth-chart-badge">5年連続成長</span>
                        </div>
                        <div class="growth-chart">
                            <div class="growth-chart-bars">
                                <div class="growth-bar" data-value="65" data-year="2020">
                                    <div class="growth-bar-fill"></div>
                                    <span class="growth-bar-value">65%</span>
                                    <span class="growth-bar-year">2020</span>
                                </div>
                                <div class="growth-bar" data-value="72" data-year="2021">
                                    <div class="growth-bar-fill"></div>
                                    <span class="growth-bar-value">72%</span>
                                    <span class="growth-bar-year">2021</span>
                                </div>
                                <div class="growth-bar" data-value="81" data-year="2022">
                                    <div class="growth-bar-fill"></div>
                                    <span class="growth-bar-value">81%</span>
                                    <span class="growth-bar-year">2022</span>
                                </div>
                                <div class="growth-bar" data-value="89" data-year="2023">
                                    <div class="growth-bar-fill"></div>
                                    <span class="growth-bar-value">89%</span>
                                    <span class="growth-bar-year">2023</span>
                                </div>
                                <div class="growth-bar" data-value="94" data-year="2024">
                                    <div class="growth-bar-fill"></div>
                                    <span class="growth-bar-value">94%</span>
                                    <span class="growth-bar-year">2024</span>
                                </div>
                            </div>
                            <div class="growth-trend-line" id="trendLine"></div>
                        </div>
                    </div>

                    <!-- Stats Row -->
                    <div class="stats-row">
                        <div class="stat-item">
                            <span class="stat-number" data-target="3247">0</span>
                            <span class="stat-label">成功事例</span>
                        </div>
                        <div class="stat-divider"></div>
                        <div class="stat-item">
                            <span class="stat-number" data-target="94">0</span>
                            <span class="stat-unit">%</span>
                            <span class="stat-label">改善達成率</span>
                        </div>
                        <div class="stat-divider"></div>
                        <div class="stat-item">
                            <span class="stat-number" data-target="90">0</span>
                            <span class="stat-unit">秒</span>
                            <span class="stat-label">で完了</span>
                        </div>
                    </div>

                    <button class="cta-button primary pulse-animation" onclick="startDiagnosis()">
                        <span>無料でAI診断を始める</span>
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M5 12h14M12 5l7 7-7 7"/>
                        </svg>
                    </button>

                    <div class="trust-badges">
                        <div class="badge">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="20 6 9 17 4 12"/>
                            </svg>
                            <span>だいたいの数値でOK</span>
                        </div>
                        <div class="badge">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="20 6 9 17 4 12"/>
                            </svg>
                            <span>途中で保存できます</span>
                        </div>
                        <div class="badge">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="20 6 9 17 4 12"/>
                            </svg>
                            <span>入力内容は暗号化して保護</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Floating Particles -->
            <div class="particles" id="particles"></div>
        </section>

        <!-- Form Section -->
        <section id="formSection" class="form-section hidden">
            <div class="form-layout">
                <!-- Left: Form -->
                <div class="form-container">
                    <div class="form-header">
                        <button class="back-button" onclick="goBack()">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M19 12H5M12 19l-7-7 7-7"/>
                            </svg>
                        </button>
                        <div class="progress-info">
                            <div class="progress-bar">
                                <div class="progress-fill" id="progressFill"></div>
                            </div>
                            <span class="progress-text" id="progressText">STEP 1/4</span>
                        </div>
                        <div class="time-estimate" id="timeEstimate">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="10"/>
                                <polyline points="12 6 12 12 16 14"/>
                            </svg>
                            <span>残り約75秒</span>
                        </div>
                    </div>

                    <!-- Step 1: Basic Info -->
                    <div class="step" id="step1">
                        <div class="step-header">
                            <h2 class="step-title">基本情報</h2>
                            <p class="step-description">医院の基本情報を入力してください</p>
                        </div>

                        <div class="form-group">
                            <label class="form-label">
                                医院名
                                <span class="optional-badge">任意</span>
                            </label>
                            <input type="text" class="form-input" id="clinicName" placeholder="例：さくら歯科クリニック">
                        </div>

                        <div class="form-group">
                            <label class="form-label">
                                地方
                                <span class="optional-badge">任意</span>
                            </label>
                            <select class="form-select" id="region">
                                <option value="">選択してください</option>
                                <option value="hokkaido">北海道</option>
                                <option value="tohoku">東北</option>
                                <option value="kanto">関東</option>
                                <option value="chubu">中部</option>
                                <option value="tokai">東海</option>
                                <option value="kinki">近畿</option>
                                <option value="chugoku">中国</option>
                                <option value="shikoku">四国</option>
                                <option value="kyushu">九州・沖縄</option>
                            </select>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">
                                    開業年数
                                    <span class="optional-badge">任意</span>
                                </label>
                                <select class="form-select" id="yearsOpen">
                                    <option value="">選択してください</option>
                                    <option value="under3">3年未満</option>
                                    <option value="3to5">3〜5年</option>
                                    <option value="5to10">5〜10年</option>
                                    <option value="10to20">10〜20年</option>
                                    <option value="over20">20年以上</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label class="form-label">
                                    ユニット数
                                    <span class="optional-badge">任意</span>
                                </label>
                                <select class="form-select" id="units">
                                    <option value="">選択してください</option>
                                    <option value="1">1台</option>
                                    <option value="2">2台</option>
                                    <option value="3">3台</option>
                                    <option value="4">4台</option>
                                    <option value="5">5台</option>
                                    <option value="6-7">6〜7台</option>
                                    <option value="8-10">8〜10台</option>
                                    <option value="11+">11台以上</option>
                                </select>
                            </div>
                        </div>

                        <div class="step-actions">
                            <button class="skip-link" onclick="nextStep()">わからない項目はスキップ →</button>
                            <button class="cta-button primary" onclick="nextStep()">
                                次へ
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M5 12h14M12 5l7 7-7 7"/>
                                </svg>
                            </button>
                        </div>
                    </div>

                    <!-- Step 2: Current Numbers -->
                    <div class="step hidden" id="step2">
                        <div class="step-header">
                            <h2 class="step-title">現状の数値</h2>
                            <p class="step-description">だいたいの数値で構いません</p>
                        </div>

                        <div class="form-group">
                            <label class="form-label">月間の新患数</label>
                            <div class="button-group" data-field="newPatient">
                                <button class="option-button" data-value="15">〜15人</button>
                                <button class="option-button" data-value="22">15-30人</button>
                                <button class="option-button" data-value="40">30-50人</button>
                                <button class="option-button" data-value="65">50-80人</button>
                                <button class="option-button" data-value="90">80-100人</button>
                                <button class="option-button" data-value="100">100〜人</button>
                            </div>
                            <div class="specific-input-wrapper">
                                <button class="specific-input-toggle" onclick="toggleSpecificInput(this)">
                                    具体的に入力する
                                </button>
                                <div class="specific-input hidden">
                                    <input type="number" class="form-input" id="newPatientSpecific" placeholder="人数を入力" min="0" max="150">
                                    <span class="input-unit">人/月</span>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="form-label">1日の平均来院数</label>
                            <div class="button-group" data-field="dailyVisit">
                                <button class="option-button" data-value="15">〜15人</button>
                                <button class="option-button" data-value="22">15-30人</button>
                                <button class="option-button" data-value="40">30-50人</button>
                                <button class="option-button" data-value="65">50-80人</button>
                                <button class="option-button" data-value="90">80-100人</button>
                                <button class="option-button" data-value="100">100〜人</button>
                            </div>
                            <div class="specific-input-wrapper">
                                <button class="specific-input-toggle" onclick="toggleSpecificInput(this)">
                                    具体的に入力する
                                </button>
                                <div class="specific-input hidden">
                                    <input type="number" class="form-input" id="dailyVisitSpecific" placeholder="人数を入力" min="0" max="150">
                                    <span class="input-unit">人/日</span>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="form-label">月間の保険収入</label>
                            <div class="button-group" data-field="insurance">
                                <button class="option-button" data-value="200">〜200万円</button>
                                <button class="option-button" data-value="300">200-400万円</button>
                                <button class="option-button" data-value="500">400-600万円</button>
                                <button class="option-button" data-value="700">600-800万円</button>
                                <button class="option-button" data-value="900">800-1000万円</button>
                                <button class="option-button" data-value="1200">1000-1400万円</button>
                                <button class="option-button" data-value="1550">1400-1700万円</button>
                                <button class="option-button" data-value="1700">1700〜万円</button>
                            </div>
                            <div class="specific-input-wrapper">
                                <button class="specific-input-toggle" onclick="toggleSpecificInput(this)">
                                    具体的に入力する
                                </button>
                                <div class="specific-input hidden">
                                    <input type="number" class="form-input" id="insuranceSpecific" placeholder="金額を入力" min="0" max="2000">
                                    <span class="input-unit">万円/月</span>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="form-label">月間の自費収入</label>
                            <div class="button-group" data-field="selfPay">
                                <button class="option-button" data-value="50">〜50万円</button>
                                <button class="option-button" data-value="75">50-100万円</button>
                                <button class="option-button" data-value="150">100-200万円</button>
                                <button class="option-button" data-value="300">200-400万円</button>
                                <button class="option-button" data-value="550">400-700万円</button>
                                <button class="option-button" data-value="850">700-1000万円</button>
                                <button class="option-button" data-value="1250">1000-1500万円</button>
                                <button class="option-button" data-value="1500">1500〜万円</button>
                            </div>
                            <div class="specific-input-wrapper">
                                <button class="specific-input-toggle" onclick="toggleSpecificInput(this)">
                                    具体的に入力する
                                </button>
                                <div class="specific-input hidden">
                                    <input type="number" class="form-input" id="selfPaySpecific" placeholder="金額を入力" min="0" max="2000">
                                    <span class="input-unit">万円/月</span>
                                </div>
                            </div>
                        </div>

                        <!-- Auto-calculated display -->
                        <div class="calculated-display">
                            <div class="calculated-item">
                                <span class="calculated-label">月間医業収入</span>
                                <span class="calculated-value" id="totalRevenue">-- 万円</span>
                            </div>
                            <div class="calculated-item">
                                <span class="calculated-label">自費率</span>
                                <span class="calculated-value" id="selfPayRate">-- %</span>
                            </div>
                        </div>

                        <div class="step-actions">
                            <button class="skip-link" onclick="nextStep()">わからない項目はスキップ →</button>
                            <button class="cta-button primary" onclick="nextStep()">
                                次へ
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M5 12h14M12 5l7 7-7 7"/>
                                </svg>
                            </button>
                        </div>
                    </div>

                    <!-- Step 3: Metrics -->
                    <div class="step hidden" id="step3">
                        <div class="step-header">
                            <h2 class="step-title">各種指標</h2>
                            <p class="step-description">わかる範囲で入力してください</p>
                        </div>

                        <div class="form-group">
                            <label class="form-label">キャンセル率</label>
                            <div class="button-group" data-field="cancel">
                                <button class="option-button" data-value="2">〜2%</button>
                                <button class="option-button" data-value="3">2-4%</button>
                                <button class="option-button" data-value="5">4-6%</button>
                                <button class="option-button" data-value="7">6-8%</button>
                                <button class="option-button" data-value="9">8-10%</button>
                                <button class="option-button" data-value="11">10-12%</button>
                                <button class="option-button" data-value="12">12%〜</button>
                            </div>
                            <div class="specific-input-wrapper">
                                <button class="specific-input-toggle" onclick="toggleSpecificInput(this)">
                                    具体的に入力する
                                </button>
                                <div class="specific-input hidden">
                                    <input type="number" class="form-input" id="cancelSpecific" placeholder="キャンセル率を入力" min="0" max="15" step="0.1">
                                    <span class="input-unit">%</span>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="form-label">リコール率</label>
                            <div class="button-group" data-field="recall">
                                <button class="option-button" data-value="10">〜10%</button>
                                <button class="option-button" data-value="17">10-25%</button>
                                <button class="option-button" data-value="32">25-40%</button>
                                <button class="option-button" data-value="47">40-55%</button>
                                <button class="option-button" data-value="62">55-70%</button>
                                <button class="option-button" data-value="77">70-85%</button>
                                <button class="option-button" data-value="85">85%〜</button>
                            </div>
                            <div class="specific-input-wrapper">
                                <button class="specific-input-toggle" onclick="toggleSpecificInput(this)">
                                    具体的に入力する
                                </button>
                                <div class="specific-input hidden">
                                    <input type="number" class="form-input" id="recallSpecific" placeholder="リコール率を入力" min="0" max="100">
                                    <span class="input-unit">%</span>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="form-label">レセプト枚数（月間）</label>
                            <div class="button-group" data-field="receipt">
                                <button class="option-button" data-value="300">〜300枚</button>
                                <button class="option-button" data-value="450">300-600枚</button>
                                <button class="option-button" data-value="800">600-1000枚</button>
                                <button class="option-button" data-value="1250">1000-1500枚</button>
                                <button class="option-button" data-value="1750">1500-2000枚</button>
                                <button class="option-button" data-value="2250">2000-2500枚</button>
                                <button class="option-button" data-value="2750">2500-3000枚</button>
                                <button class="option-button" data-value="3000">3000〜枚</button>
                            </div>
                            <div class="specific-input-wrapper">
                                <button class="specific-input-toggle" onclick="toggleSpecificInput(this)">
                                    具体的に入力する
                                </button>
                                <div class="specific-input hidden">
                                    <input type="number" class="form-input" id="receiptSpecific" placeholder="枚数を入力" min="0" max="4000">
                                    <span class="input-unit">枚/月</span>
                                </div>
                            </div>
                        </div>

                        <div class="step-actions">
                            <button class="skip-link" onclick="nextStep()">わからない項目はスキップ →</button>
                            <button class="cta-button primary" onclick="nextStep()">
                                次へ
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M5 12h14M12 5l7 7-7 7"/>
                                </svg>
                            </button>
                        </div>
                    </div>

                    <!-- Step 4: Priority & Concerns -->
                    <div class="step hidden" id="step4">
                        <div class="step-header">
                            <h2 class="step-title">課題選択・その他お悩み</h2>
                            <p class="step-description">最も解決したい課題を選んでください</p>
                        </div>

                        <div class="form-group">
                            <label class="form-label">
                                最も解決したい課題
                                <span class="required-badge">必須</span>
                            </label>
                            <div class="priority-grid">
                                <button class="priority-button" data-value="newPatient" onclick="selectPriority(this)">
                                    <span class="priority-icon">📈</span>
                                    <span class="priority-text">新患を増やしたい</span>
                                </button>
                                <button class="priority-button" data-value="selfPay" onclick="selectPriority(this)">
                                    <span class="priority-icon">💰</span>
                                    <span class="priority-text">自費率を上げたい</span>
                                </button>
                                <button class="priority-button" data-value="cancel" onclick="selectPriority(this)">
                                    <span class="priority-icon">📅</span>
                                    <span class="priority-text">キャンセルを減らしたい</span>
                                </button>
                                <button class="priority-button" data-value="staff" onclick="selectPriority(this)">
                                    <span class="priority-icon">👥</span>
                                    <span class="priority-text">スタッフの定着・採用</span>
                                </button>
                                <button class="priority-button" data-value="efficiency" onclick="selectPriority(this)">
                                    <span class="priority-icon">⚡</span>
                                    <span class="priority-text">業務を効率化したい</span>
                                </button>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="form-label">
                                その他のお悩み
                                <span class="optional-badge">任意</span>
                            </label>
                            <textarea class="form-textarea" id="otherConcerns" placeholder="その他、具体的なお悩みや状況があればご記入ください。例：スタッフの離職が続いている、Web集客がうまくいかない、など"></textarea>
                        </div>

                        <div class="step-actions">
                            <button class="cta-button primary large" onclick="submitForm()" id="submitButton" disabled>
                                <span>AI診断結果を見る</span>
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M5 12h14M12 5l7 7-7 7"/>
                                </svg>
                            </button>
                            <p class="submit-note">※ 課題を選択すると診断結果を表示できます</p>
                        </div>
                    </div>
                </div>

                <!-- Right: Visualization Panel -->
                <div class="visualization-panel">
                    <div class="panel-header">
                        <h3>入力データ</h3>
                        <div class="similar-clinics">
                            <span class="similar-count" id="similarCount">--</span>
                            <span class="similar-label">類似医院</span>
                        </div>
                    </div>

                    <div class="panel-content">
                        <!-- Basic Info Summary -->
                        <div class="summary-section">
                            <h4 class="summary-title">基本情報</h4>
                            <div class="summary-grid">
                                <div class="summary-item">
                                    <span class="summary-label">医院名</span>
                                    <span class="summary-value" id="summaryClinicName">--</span>
                                </div>
                                <div class="summary-item">
                                    <span class="summary-label">地方</span>
                                    <span class="summary-value" id="summaryRegion">--</span>
                                </div>
                                <div class="summary-item">
                                    <span class="summary-label">開業年数</span>
                                    <span class="summary-value" id="summaryYears">--</span>
                                </div>
                                <div class="summary-item">
                                    <span class="summary-label">ユニット数</span>
                                    <span class="summary-value" id="summaryUnits">--</span>
                                </div>
                            </div>
                        </div>

                        <!-- Metrics Charts -->
                        <div class="summary-section">
                            <h4 class="summary-title">数値データ</h4>
                            <div class="metrics-chart">
                                <div class="metric-row">
                                    <span class="metric-label">新患数</span>
                                    <div class="metric-bar-wrapper">
                                        <div class="metric-bar" id="barNewPatient" style="width: 0%"></div>
                                    </div>
                                    <span class="metric-value" id="metricNewPatient">--</span>
                                </div>
                                <div class="metric-row">
                                    <span class="metric-label">来院数/日</span>
                                    <div class="metric-bar-wrapper">
                                        <div class="metric-bar" id="barDailyVisit" style="width: 0%"></div>
                                    </div>
                                    <span class="metric-value" id="metricDailyVisit">--</span>
                                </div>
                                <div class="metric-row">
                                    <span class="metric-label">保険収入</span>
                                    <div class="metric-bar-wrapper">
                                        <div class="metric-bar" id="barInsurance" style="width: 0%"></div>
                                    </div>
                                    <span class="metric-value" id="metricInsurance">--</span>
                                </div>
                                <div class="metric-row">
                                    <span class="metric-label">自費収入</span>
                                    <div class="metric-bar-wrapper">
                                        <div class="metric-bar" id="barSelfPay" style="width: 0%"></div>
                                    </div>
                                    <span class="metric-value" id="metricSelfPay">--</span>
                                </div>
                                <div class="metric-row calculated">
                                    <span class="metric-label">医業収入</span>
                                    <div class="metric-bar-wrapper">
                                        <div class="metric-bar success" id="barTotalRevenue" style="width: 0%"></div>
                                    </div>
                                    <span class="metric-value success" id="metricTotalRevenue">--</span>
                                </div>
                                <div class="metric-row calculated">
                                    <span class="metric-label">自費率</span>
                                    <div class="metric-bar-wrapper">
                                        <div class="metric-bar success" id="barSelfPayRate" style="width: 0%"></div>
                                    </div>
                                    <span class="metric-value success" id="metricSelfPayRate">--</span>
                                </div>
                                <div class="metric-row">
                                    <span class="metric-label">キャンセル率</span>
                                    <div class="metric-bar-wrapper">
                                        <div class="metric-bar warning" id="barCancel" style="width: 0%"></div>
                                    </div>
                                    <span class="metric-value" id="metricCancel">--</span>
                                </div>
                                <div class="metric-row">
                                    <span class="metric-label">リコール率</span>
                                    <div class="metric-bar-wrapper">
                                        <div class="metric-bar" id="barRecall" style="width: 0%"></div>
                                    </div>
                                    <span class="metric-value" id="metricRecall">--</span>
                                </div>
                                <div class="metric-row">
                                    <span class="metric-label">レセプト</span>
                                    <div class="metric-bar-wrapper">
                                        <div class="metric-bar" id="barReceipt" style="width: 0%"></div>
                                    </div>
                                    <span class="metric-value" id="metricReceipt">--</span>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </section>

        <!-- Loading Screen -->
        <section id="loadingScreen" class="loading-screen hidden">
            <div class="loading-content">
                <div class="loading-animation">
                    <div class="loading-spinner"></div>
                    <div class="loading-progress">
                        <div class="loading-progress-bar" id="loadingProgressBar"></div>
                    </div>
                </div>
                <h2 class="loading-title">AI分析中...</h2>
                <p class="loading-subtitle">3,247件の事例から最適な改善策を抽出しています</p>
                <div class="loading-steps">
                    <div class="loading-step active" id="loadingStep1">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="20 6 9 17 4 12"/>
                        </svg>
                        <span>データ分析中...</span>
                    </div>
                    <div class="loading-step" id="loadingStep2">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="20 6 9 17 4 12"/>
                        </svg>
                        <span>類似医院を検索中...</span>
                    </div>
                    <div class="loading-step" id="loadingStep3">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="20 6 9 17 4 12"/>
                        </svg>
                        <span>改善提案を生成中...</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- Results Screen -->
        <section id="resultsScreen" class="results-screen hidden">
            <div class="results-container">
                <div class="results-header">
                    <div class="results-logo">
                        <div class="logo-icon small">
                            <svg viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <circle cx="20" cy="20" r="18" stroke="currentColor" stroke-width="2"/>
                                <path d="M12 20C12 15.5 15.5 12 20 12C24.5 12 28 15.5 28 20" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                                <circle cx="20" cy="24" r="4" fill="currentColor"/>
                            </svg>
                        </div>
                        <span>AI診断結果</span>
                    </div>
                    <button class="restart-button" onclick="restartDiagnosis()">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M1 4v6h6M23 20v-6h-6"/>
                            <path d="M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"/>
                        </svg>
                        最初からやり直す
                    </button>
                </div>

                <div class="results-content">
                    <!-- Input Summary -->
                    <div class="results-section">
                        <h3 class="results-section-title">入力データサマリー</h3>
                        <div class="results-summary-grid" id="resultsSummary">
                            <!-- Dynamically populated -->
                        </div>
                    </div>

                    <!-- Comparison -->
                    <div class="results-section">
                        <h3 class="results-section-title">類似医院との比較</h3>
                        <div class="comparison-grid" id="comparisonGrid">
                            <!-- Dynamically populated -->
                        </div>
                    </div>

                    <!-- AI Recommendations -->
                    <div class="results-section ai-recommendations">
                        <h3 class="results-section-title">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="ai-icon">
                                <path d="M12 2L2 7l10 5 10-5-10-5z"/>
                                <path d="M2 17l10 5 10-5"/>
                                <path d="M2 12l10 5 10-5"/>
                            </svg>
                            AIからの提案
                        </h3>
                        <div class="recommendations-list" id="recommendationsList">
                            <!-- Dynamically populated -->
                        </div>
                    </div>

                    <!-- CTA Section -->
                    <div class="results-cta">
                        <h3 class="cta-title">詳しい改善プランを無料でご説明します</h3>
                        <p class="cta-description">30分の無料相談で、具体的な施策をご提案いたします</p>
                        <button class="cta-button primary large">
                            <span>無料相談を予約する</span>
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M5 12h14M12 5l7 7-7 7"/>
                            </svg>
                        </button>
                        <div class="cta-phone">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/>
                            </svg>
                            <span>045-440-0322</span>
                            <span class="phone-hours">（平日 9:00-18:00）</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- API Settings Modal -->
        <div id="apiSettingsModal" class="modal hidden">
            <div class="modal-overlay" onclick="closeApiSettings()"></div>
            <div class="modal-content">
                <div class="modal-header">
                    <h3>API設定</h3>
                    <button class="modal-close" onclick="closeApiSettings()">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M18 6L6 18M6 6l12 12"/>
                        </svg>
                    </button>
                </div>
                <div class="modal-body">
                    <p class="modal-description">
                        Gemini APIを使用して、より高度なAI分析を行うことができます。
                        APIキーはブラウザのローカルストレージに保存され、サーバーには送信されません。
                    </p>
                    <div class="form-group">
                        <label class="form-label">Gemini API Key</label>
                        <input type="password" class="form-input" id="apiKeyInput" placeholder="AIza...">
                        <p class="input-hint">Google AI StudioからAPIキーを取得してください</p>
                    </div>
                    <div class="form-group">
                        <label class="form-label">
                            <input type="checkbox" id="useApiCheckbox">
                            API連携を有効にする
                        </label>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="cta-button secondary" onclick="closeApiSettings()">キャンセル</button>
                    <button class="cta-button primary" onclick="saveApiSettings()">保存</button>
                </div>
            </div>
        </div>

        <!-- Settings Button -->
        <button class="settings-button" onclick="openApiSettings()" title="API設定">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="12" cy="12" r="3"/>
                <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"/>
            </svg>
        </button>
    </div>

    <script src="knowledge-base.js"></script>
    <script src="app.js"></script>
</body>
</html>
